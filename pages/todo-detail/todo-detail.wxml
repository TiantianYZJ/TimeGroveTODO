<view class="container">
  <!-- 新增操作栏 -->
  <view class="action-bar">
    <image src="/images/edit.png" class="action-icon" bindtap="editTodo" />
    <image src="/images/delete.png" class="action-icon" bindtap="deleteTodo" />
  </view>
  
  <view class="form-item">
    <text class="todo-title">{{todo.text}}</text>
    <view class="date-info">
      <text class="label">截止日期：</text>
      <text class="value">{{todo.dueDate}}（剩余{{daysLeft}}天）</text>
    </view>
    <view wx:if="{{todo.remarks}}" class="remarks">
      <text class="label">备注：</text>
      <text class="value">{{todo.remarks}}</text>
    </view>
  </view>

  <view class="calendar-section">
    <view class="calendar-btn" bindtap="showCalendar">
      <van-icon name="calendar-o" size="36rpx" />
      <text>在日历中查看</text>
    </view>

    <van-calendar 
      show="{{ showCalendar }}"
      show-title="{{ false }}"
      show-confirm="{{ false }}"
      type="single"
      min-date="{{ minDate }}"
      max-date="{{ maxDate }}"
      bind:close="onCloseCalendar"
    />
  </view>
</view>
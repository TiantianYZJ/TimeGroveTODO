<!-- 顶部新增导航栏 -->
<view class="header">
  <text class="title">我的待办（{{todos.length}}）</text>
</view>

<view class="container">
  <view class="todo-list">
    <view 
      wx:for="{{todos}}"
      wx:key="index"
      class="todo-item {{item.completed ? 'completed' : ''}} {{item._animate || ''}}"
      data-index="{{index}}"
    >
      <view class="swipe-content">
        <checkbox checked="{{item.completed}}" bindtap="toggleTodo" data-index="{{index}}"/>
        <view class="todo-content" 
          data-index="{{index}}"
          bindtap="navigateToDetail"
        >
          <view class="todo-header">
            <text class="todo-text" style="max-width: 70%">{{item.text}}</text>
            <text class="todo-date" wx:if="{{item.dueDate}}">{{item.dueDate}}截止</text>
          </view>
          <text class="todo-remarks" wx:if="{{item.remarks}}">{{item.remarks}}</text>
        </view>
        <image 
          src="/images/delete.png" 
          class="delete-icon" 
          bindtap="deleteTodo" 
          data-index="{{index}}"
        />
      </view>
    </view>
  </view>
</view>

<!-- 修改浮动按钮部分 -->
<view class="fab-container">
  <button class="fab" bindtap="navigateToAdd" style="width: 100rpx; display: flex; box-sizing: border-box">
    <text class="fab-icon">+</text>
  </button>
</view>
<view class="container card-style">
  <!-- 数据面板结构 -->
  <view class="dashboard">
    <!-- 核心指标 -->
    <view class="stats-grid">
      <view class="metric-card">
        <text class="metric-value">{{total}}</text>
        <text class="metric-label">总待办</text>
      </view>
      <view class="metric-card accent">
        <text class="metric-value">{{completed}}</text>
        <text class="metric-label">已完成</text>
      </view>
    </view>
  </view>
</view>
<view class="container card-style">
  <!-- 可视化图表区 -->
  <view class="visualization-section">
    <text class="chart-title">待办完成比例</text>
    <view class="bar-chart">
      <view 
        wx:for="{{categoryStats}}"
        wx:key="category"
        class="bar-item"
      >
        <!-- 修改 data-percent 的绑定方式 -->
        <view class="bar-container" data-percent="{{item.percent}}">
          <view 
            class="bar completed" 
            style="width: {{item.percent}};"
          ></view>
        </view>
      </view>
    </view>
  </view>
</view>